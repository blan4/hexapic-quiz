<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/core-selector/core-selector.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../avatars.html">

<polymer-element name="hexapic-profile" attributes="user userDefaults wide" center layout vertical>

  <template>
    <link rel="stylesheet" href="hexapic-profile.css">

    <div class="bg" fit dummy cross-fade></div>

    <div class="main" flex layout vertical cross-fade-delayed?="{{parentElement.lastSelected === 'splash'}}">
      <div class="card {{ {wide: wide} | tokenList }}" flex layout vertical slide-up-offscreen?="{{parentElement.selected === 'profile'}}" cross-fade="{{!wide && parentElement.selected !== 'profile'}}">
        <div layout vertical flex cross-fade-delayed?="{{parentElement.lastSelected !== 'splash' && wide}}" on-keypress="{{ keypressAction }}">
          <div class="indent" layout vertical>
            <div class="header">{{userDefaults ? 'Your Profile' : 'Sign In'}}</div>
            <paper-input label="Nickname" id="name"></paper-input>
            <div class="header spaced">Choose an Avatar</div>
          </div>
          <div id="avatarList" flex>
            <core-selector selected="{{selectedAvatar}}" layout horizontal justified wrap>
              <template repeat="{{i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}}">
                <div class="avatar-wrapper">
                  <core-icon icon="avatars:avatar-{{i}}" class="topeka-avatar"></core-icon>
                </div>
              </template>
              <template repeat="{{i in [1,2,3,4,5,6,7,8]}}">
                <div class="avatar-dummy"></div>
              </template>
            </core-selector>
          </div>
          <div horizontal center layout>
            <paper-button on-tap="{{handleLogout}}" hidden?="{{!user}}">Sign Out</paper-button>
            <div flex></div>
            <paper-fab id="check" icon="check" showing?="{{$.name.value.length && selectedAvatar !== undefined}}" on-tap="{{handleLogin}}"></paper-fab>
          </div>
        </div>
      </div>
    </div>

  </template>

  <script src="hexapic-profile.js"></script>

</polymer-element>
